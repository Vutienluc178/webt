:root{
  --bg: #ffffff;
  --text: #0f172a;
  --muted: #475569;
  --card: #ffffff;
  --border: #e5e7eb;
  --brand: #2563eb;
  --brand-weak: #dbeafe;
  --chip: #f1f5f9;
  --shadow: 0 2px 14px -6px rgba(2,6,23,.2);
  --hl: #fde68a;
}
@media (prefers-color-scheme: dark){
  :root{
    --bg: #0b1220;
    --text: #e5e7eb;
    --muted: #94a3b8;
    --card: #101826;
    --border: #1f2937;
    --brand: #60a5fa;
    --brand-weak: #0b2948;
    --chip: #0f172a;
    --shadow: 0 6px 20px -10px rgba(0,0,0,.6);
    --hl: #7c3aed33;
  }
}
:root.dark{
  --bg: #0b1220;
  --text: #e5e7eb;
  --muted: #94a3b8;
  --card: #101826;
  --border: #1f2937;
  --brand: #60a5fa;
  --brand-weak: #0b2948;
  --chip: #0f172a;
  --shadow: 0 6px 20px -10px rgba(0,0,0,.6);
  --hl: #7c3aed33;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.55;
}
.shell{max-width: 1120px; margin: 0 auto; padding: 20px 16px}
.topbar{display:flex; align-items:center; justify-content:space-between; gap:12px;}
.brand{display:flex; align-items:center; gap:10px; font-weight:700; color:var(--text); text-decoration:none}
.brand img{display:block}
.top-actions{display:flex; gap:10px}
.btn{border:1px solid var(--border); background:var(--card); color:var(--text);
  border-radius: 12px; padding:8px 12px; cursor:pointer; box-shadow: var(--shadow); text-decoration:none; display:inline-flex; align-items:center; gap:8px}
.btn.primary{background: var(--brand); color: white; border-color: transparent}
.btn.ghost{background: transparent}

.hero{margin-top: 14px}
.hero h1{margin: 6px 0 6px; font-size: clamp(24px, 3vw, 36px)}
.hero p{color: var(--muted)}
.hints{margin-top:8px; color: var(--muted); font-size: 14px}
kbd{background: var(--chip); border:1px solid var(--border); border-radius:6px; padding:2px 6px;}

.toolbar{display:grid; gap:12px; grid-template-columns: 1fr; margin-top: 14px}
@media (min-width: 768px){ .toolbar{grid-template-columns: 1fr auto auto} }
.input-group{display:flex; align-items:center; background: var(--card); border:1px solid var(--border); border-radius:14px; padding: 10px 12px; gap:10px; box-shadow: var(--shadow); position: relative}
.input-group svg{width:18px; height:18px; fill: var(--muted)}
.input-group input{border:none; outline:none; width:100%; background:transparent; color: var(--text); font-size: 16px}

.filters{display:flex; gap:12px; align-items:center; justify-content:flex-end; flex-wrap:wrap}
.tabs{display:flex; gap:8px; flex-wrap:wrap}
.tab{border:1px solid var(--border); background: var(--chip); color:var(--text); padding: 8px 12px; border-radius:999px; cursor:pointer}
.tab.is-active{background: var(--brand-weak); border-color: var(--brand)}
.switch{display:flex; align-items:center; gap:6px; font-size: 14px}

select{padding:10px 12px; border:1px solid var(--border); border-radius: 12px; background: var(--card); color: var(--text)}

.stats{margin-top: 12px; color: var(--muted)}

.chipbar{display:flex; gap:8px; flex-wrap:wrap; margin: 8px 0 4px}
.chip{padding:6px 10px; border:1px solid var(--border); background: var(--chip); border-radius:999px; font-size: 13px; cursor:pointer}
.chip.is-active{outline: 2px solid var(--brand)}

.grid{display:grid; gap:16px; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); margin-top: 10px}
.card{
  background: var(--card); border:1px solid var(--border); border-radius: 16px; padding: 14px;
  box-shadow: var(--shadow); display:flex; flex-direction:column; gap:8px
}
.card h3{margin:0; font-size: 18px}
.card .meta{font-size: 13px; color: var(--muted)}
.card .badges{display:flex; gap:6px; flex-wrap:wrap}
.badge{font-size: 12px; background: var(--chip); border:1px solid var(--border); padding: 4px 8px; border-radius: 999px}
.card a{color:var(--brand); text-decoration:none; font-weight:600}
.card a:hover{text-decoration:underline}

.footer{margin-top: 22px; border-top:1px solid var(--border); padding-top: 18px}
.footer .cols{display:grid; gap:16px; grid-template-columns: 1fr}
@media (min-width: 768px){ .footer .cols{grid-template-columns: 1fr 1fr} }
.footer h4{margin:6px 0}
.footer ol{margin:8px 0 0 18px}
.footer small{display:block; margin-top: 8px; color: var(--muted)}

/* Autosuggest */
.suggest{position:absolute; left:0; right:0; top:100%; margin-top:8px; background:var(--card); border:1px solid var(--border);
  border-radius:12px; box-shadow:var(--shadow); max-height:280px; overflow:auto; z-index: 10}
.sg-item{display:flex; justify-content:space-between; gap:10px; padding:8px 10px; cursor:pointer}
.sg-item:hover{background:var(--chip)}
mark{background: var(--hl); padding:0 2px; border-radius:4px}

/* Command Palette */
dialog.palette{border:none; border-radius:14px; width:min(700px,92vw); background:var(--card);
  color:var(--text); box-shadow:var(--shadow); padding:14px}
dialog.palette::backdrop{background:rgba(0,0,0,.4)}
#pal-q{width:100%; padding:10px 12px; border:1px solid var(--border); border-radius:12px; margin-bottom:10px; background:var(--bg); color:var(--text)}
#pal-list{max-height:360px; overflow:auto}
.pal-item{display:flex; gap:8px; justify-content:space-between; padding:8px 10px; border-radius:10px; cursor:pointer}
.pal-item:hover{background:var(--chip)}

/* Recents */
.recents{margin-top:12px}
.recents h4{margin:0 0 6px 0}
.recents .row{display:flex; gap:10px; flex-wrap:wrap}
.recents a{border:1px solid var(--border); background:var(--chip); padding:6px 10px; border-radius:999px; text-decoration:none; color:var(--text)}
.recents a:hover{background:var(--brand-weak)}
